.notif-btn {
  position: relative;
  --padding-start: 8px; --padding-end: 8px;

  ion-icon { font-size: 22px; transform-origin: 50% 0%; color: var(--ion-color-primary-contrast); }

  /* ring the bell when there are unread items */
  &.has-unread ion-icon {
    animation: bell-ring 1.6s ease-in-out infinite;
  }

  /* red dot/number */
  .badge {
    position: absolute;
    top: 2px;
    inset-inline-end: 2px;
    font-size: 10px;
    border-radius: 999px;
    transform: translate(40%, -40%);
    background-color: var(--ion-color-danger);
  }

  /* optional soft pulse behind the badge */
  &.has-unread::after {
    content: "";
    position: absolute;
    top: 6px; inset-inline-end: 6px;
    width: 10px; height: 10px; border-radius: 999px;
    background: var(--ion-color-danger, #eb445a);
    opacity: .5;
    animation: ping 1.6s ease-out infinite;
    z-index: 0;
  }
}

/* keyframes */
@keyframes bell-ring {
  0%   { transform: rotate(0); }
  10%  { transform: rotate(15deg); }
  20%  { transform: rotate(-13deg); }
  30%  { transform: rotate(10deg); }
  40%  { transform: rotate(-8deg); }
  50%  { transform: rotate(6deg); }
  60%  { transform: rotate(-4deg); }
  70%  { transform: rotate(2deg); }
  80%,100% { transform: rotate(0); }
}

@keyframes ping {
  0%   { transform: translate(40%, -40%) scale(0.8); opacity: .6; }
  80%  { transform: translate(40%, -40%) scale(2.2); opacity: 0; }
  100% { opacity: 0; }
}

/* accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .notif-btn.has-unread ion-icon,
  .notif-btn.has-unread::after { animation: none !important; }
}
